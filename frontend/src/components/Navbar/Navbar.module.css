@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;800&display=swap');
@import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap");
@import "../../styles/variables.css";

/* ===== Header ===== */
.header {
  position: sticky;
  top: 0;
  z-index: 1000;
  background: color-mix(in oklab, var(--color-bg) 82%, transparent);
  border-bottom: 1px solid color-mix(in oklab, var(--color-border) 80%, transparent);
  backdrop-filter: saturate(120%) blur(8px);
}
.modal-open .header { backdrop-filter: none; }

.container {
  max-width: 1280px;
  height: 64px;
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
  padding: 0 .75rem;
}

/* brand */
.logo { height: 60px; width: auto; object-fit: contain; }

/* burger */
.burger {
  display: none;
  background: none;
  font-size: 1.5rem;
  border: none;
  cursor: pointer;
  color: var(--color-text);
}

/* nav inline */
.nav { display: flex; gap: 1.2rem; align-items: center; }
.nav--open { display: flex; }

.navLink {
  font-family: var(--font-title);
  font-weight: 600;
  font-size: 0.95rem;
  color: var(--color-text);
  text-decoration: none;
  padding: 6px 8px;
  border-radius: 10px;
  transition: color .2s ease, background .2s ease;
}
.navLink:hover { color: var(--color-primary); }
.navLink:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--color-primary) 35%, transparent);
}
.active { color: var(--color-primary); }

/* ===== Dropdown ===== */
.dropdown { position: relative; }
.dropdownIcon { margin-left: 4px; font-size: 0.75rem; }
.dropdownContent {
  display: none;
  position: absolute;
  background-color: var(--surface);
  min-width: 170px;
  box-shadow: 0 12px 24px rgba(0,0,0,.12);
  z-index: 100;
  border-radius: var(--radius);
  overflow: hidden;
  right: auto;
  left: 0;
  will-change: opacity, transform;
}
.dropdownContent a {
  font-family: var(--font-body);
  font-weight: 400;
  font-size: 0.9rem;
  color: var(--color-text);
  padding: 10px 14px;
  display: block;
  text-decoration: none;
}
.dropdownContent a:hover {
  background-color: color-mix(in oklab, var(--color-border) 80%, transparent);
}
.dropdown:hover .dropdownContent,
.dropdown:focus-within .dropdownContent { display: block; }

@media (prefers-reduced-motion: no-preference) {
  .dropdownContent {
    opacity: 0;
    transform: translateY(6px);
    transition: opacity .14s ease, transform .14s ease;
  }
  .dropdown:hover .dropdownContent,
  .dropdown:focus-within .dropdownContent {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ===== Search (desktop & mobil) ===== */
.search {
  gap: 6px;
  position: relative;
  display: flex;
  align-items: center;
  background: var(--surface);
  border-radius: 12px;
  width: 20rem;
  border: 1px solid var(--color-border);
  padding: 4px 6px;
}
.input {
  flex: 1;
  border: none;
  outline: none;
  padding: 8px 8px;
  font-size: 0.9rem;
  background: transparent;
  color: var(--color-text);
}
.search:focus-within { box-shadow: 0 0 0 4px color-mix(in oklab, var(--color-primary) 18%, transparent); }
.input::placeholder { color: var(--color-text-muted); }

.searchBtn {
  background-color: var(--color-primary);
  color: white;
  border: none;
  padding: 8px 12px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  border-radius: 10px;
  transition: background-color 0.2s ease;
}
.searchBtn:hover { background-color: var(--color-hover); }

.searchIcon{
  background-color: var(--color-primary);
  padding: 8px;
  border-radius: 40%;
  color: var(--color-bg);
}
/* ===== Buton cameră + input ascuns ===== */
/* ===== Buton cameră + input ascuns ===== */
/* ===== Buton cameră + input ascuns ===== */
/* ===== Buton cameră: doar icon, outline look ===== */
.cameraBtn {
  background: transparent;
  border: none;
  padding: 6px;
  width: 36px;
  height: 36px;
  border-radius: 8px;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;

  /* ascunde orice text rezidual */
  font-size: 0;
  line-height: 0;
  color: var(--color-text); /* culoarea stroke-ului */
}

.cameraBtn:hover {
  /* fără background; doar schimbare subtilă de culoare */
  color: var(--color-primary);
}

.cameraBtn:active {
  transform: translateY(0.5px);
}

.cameraBtn:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--color-primary) 25%, transparent);
}

/* forțează iconul să fie conturat, nu plin */
.cameraBtn svg {
  width: 20px;
  height: 20px;
  fill: none !important;           /* <- important: fără fill */
  stroke: currentColor !important; /* <- contur cu culoarea curentă */
  stroke-width: 2;                 /* contur mai clar, ca Lucide default */
}

/* safety: ascunde orice text/pseudo-element rătăcit */
.cameraBtn span,
.cameraBtn::before,
.cameraBtn::after { display: none !important; }

.hiddenFile { display: none; }


/* (opțional) utilitar pentru text doar pentru screen reader, dacă îl vei folosi vreodată */
.srOnly {
  position: absolute !important;
  width: 1px; height: 1px;
  padding: 0; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0);
  white-space: nowrap; border: 0;
}

/* ===== Sugestii (dacă folosești dropdown) ===== */
.suggestList {
  position: absolute;
  top: calc(100% + 4px);
  left: 0;
  right: 0;
  z-index: 50;
  background: var(--surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  margin-top: 4px;
  padding: 4px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.08);
  max-height: 280px;
  overflow: auto;
}
.suggestItem {
  padding: 6px 10px;
  border-radius: var(--radius);
  cursor: pointer;
  color: var(--color-text);
  font-size: 0.9rem;
}
.suggestItem:hover, .activeItem { background: var(--color-border); }
.suggestMark { font-weight: 600; color: var(--color-primary); background: transparent; }

/* ===== Actions Right ===== */
.actionsRight { display: flex; align-items: center; gap: 10px; }
.iconWrapper {
  position: relative;
  font-size: 1.3rem;
  cursor: pointer;
  color: var(--color-text);
  transition: color 0.2s ease;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}
.iconWrapper:hover { color: var(--color-primary); }
.badge {
  position: absolute;
  top: -4px;
  right: -6px;
  background: var(--color-primary);
  color: white;
  font-size: 11px;
  font-weight: 700;
  min-width: 18px;
  height: 18px;
  padding: 0 4px;
  border-radius: 9px;
  display: grid;
  place-items: center;
  line-height: 1;
}

/* ===== Buttons ===== */
.accountBtn {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  background-color: var(--color-primary);
  color: #fff;
  padding: 0.45rem 1rem;
  font-size: 0.85rem;
  font-weight: 600;
  border-radius: 9999px;
  border: 2px solid var(--color-primary);
  text-decoration: none;
  transition: background-color 0.25s ease, border-color 0.25s ease, transform .08s ease;
}
.accountBtn:hover { background-color: var(--color-hover); border-color: var(--color-hover); }
.accountBtn:active { transform: translateY(1px); }

.sellBtn {
  width: auto;
  background-color: transparent;
  color: var(--color-primary);
  padding: 0.5rem 0.9rem;
  font-size: 0.85rem;
  font-weight: 600;
  border-radius: 9999px;
  border: 2px solid var(--color-primary);
  transition: background-color 0.25s ease, color 0.25s ease, border-color 0.25s ease, transform .08s ease;
}
.sellBtn:hover { background-color: var(--color-primary); color: #fff; border-color: var(--color-primary); }
.sellBtn:active { transform: translateY(1px); }

/* ===== Seller Nav ===== */
.sellerNav { background: #fff7ed; border-radius: var(--radius); padding: 0.3rem 0.5rem; }
.sellerNavLink {
  display: inline-block;
  padding: 0.4rem 0.8rem;
  margin: 0 0.1rem;
  font-weight: 500;
  font-size: 0.85rem;
  color: var(--color-primary);
  border: 2px solid transparent;
  border-radius: 9999px;
  text-decoration: none;
  transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease;
}
.sellerNavLink:hover { background: var(--color-primary); color: #fff; border-color: var(--color-primary); }
.sellerNavLinkActive { background: var(--color-primary); color: #fff !important; border-color: var(--color-primary); }
.sellerNav .navLink { margin: 0; }

/* ===== Theme Toggle ===== */
.themeBtn {
  background: transparent;
  border: 1px solid var(--color-border);
  border-radius: 9999px;
  padding: 6px 10px;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  color: var(--color-text);
  transition: border-color .2s ease, background .2s ease;
}
.themeBtn:hover {
  border-color: var(--color-primary);
  background: color-mix(in oklab, var(--color-primary) 10%, transparent);
}
.themeBtn:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--color-primary) 25%, transparent);
}

/* ===== Modal (login/register & partner) ===== */
.overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.35);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  display: grid;
  place-items: center;
  padding: 16px;
  z-index: 1200;
}
.modal {
  width: auto;
  max-width: 720px;
  background: color-mix(in oklab, var(--surface) 85%, transparent);
  backdrop-filter: blur(10px);
  border-radius: 16px;
  box-shadow: 0 20px 50px rgba(0,0,0,.22);
  border: 1px solid color-mix(in oklab, var(--color-border) 70%, transparent);
  display: flex;
  flex-direction: column;
  max-height: min(90vh, 760px);
}
.modalHead { padding: 16px 20px; border-bottom: 1px solid var(--color-border); display: flex; align-items: center; gap: 10px; }
.modalTitle { margin: 0; font-size: 18px; font-weight: 800; }
.modalClose { margin-left: auto; font-size: 22px; background: transparent; border: 0; cursor: pointer; color: var(--color-text); }
.modalClose:hover { color: var(--color-primary); }
.modalBody { padding: 18px 20px 22px; overflow: auto; overscroll-behavior: contain; }
.modalBody::-webkit-scrollbar { width: 10px; }
.modalBody::-webkit-scrollbar-thumb {
  background: color-mix(in oklab, var(--color-border) 40%, var(--color-primary));
  border-radius: 8px;
}
.modalBody::-webkit-scrollbar-track { background: transparent; }

/* forme rapide în dropdown (căutare zonă) */
.field {
  padding: 10px;
  border-radius: var(--radius);
  border: 1px solid var(--color-border);
  background: var(--surface);
  color: var(--color-text);
  outline: none;
}
.field:focus {
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--color-primary) 25%, transparent);
  border-color: var(--color-primary);
}
.primaryBtn {
  background: var(--color-primary);
  color: #fff;
  border: 2px solid var(--color-primary);
  padding: 0.6rem 0.9rem;
  border-radius: 9999px;
  cursor: pointer;
  font-weight: 700;
}
.primaryBtn:hover { background: var(--color-hover); border-color: var(--color-hover); }

.menuGrid { display: grid; gap: 10px; }
.colGrid { display: grid; gap: 6px; }
.groupLabel { font-size: 12px; color: #6b7280; margin-bottom: 6px; }
.zoneForm { display: grid; gap: 6px; margin-top: 6px; }

/* Icon mic pentru autentificare */
.authIconBtn{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  border-radius: 9999px;
  border: 1px solid var(--color-border);
  background: transparent;
  color: var(--color-text);
  cursor: pointer;
  transition: background .2s ease, border-color .2s ease, color .2s ease, transform .08s ease;
}
.authIconBtn:hover{
  background: color-mix(in oklab, var(--color-primary) 12%, transparent);
  border-color: var(--color-primary);
  color: var(--color-primary);
}
.authIconBtn:active { transform: translateY(1px); }

/* Avatar / account */
.avatarBtn {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  border: 1px solid var(--color-border);
  background: transparent;
  padding: 4px 8px;
  border-radius: var(--radius);
  cursor: pointer;
}
.avatarBtn:hover { background: rgba(0,0,0,.04); }
.avatar {
  width: 28px;
  height: 28px;
  display: grid;
  place-items: center;
  border-radius: 999px;
  font-weight: 800;
  background: var(--color-primary);
  color: #fff;
}

.actionsRight .dropdown { position: relative; }
.actionsRight .dropdown .dropdownContent { right: 0; left: auto; }

/* backdrop pentru off-canvas */
.navBackdrop {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.2);
  border: 0;
  padding: 0;
  margin: 0;
  z-index: 900;
}

/* ===== Mobile-only search (sus) ===== */
.mobileSearch {
  display: none;
  width: auto;
  max-width: 1280px;
  margin: 0 auto;
  padding: 8px 12px;
}
/* ---- Mobile search: layout cu stânga/centru/dreapta ---- */
.mobileSearchRow {
  display: flex;
  align-items: center;
  gap: 8px;
  justify-content: space-between; /* l & r încadrate, căutarea se întinde */
}

.mobileSearchLeft,
.mobileSearchRight {
  display: flex;
  align-items: center;
  gap: 8px;
}

/* pe mobil, lăsăm bara să ocupe restul spațiului */
@media (max-width: 768px) {
  .mobileSearch .search { flex: 1; }
}


/* ===== Bottom Navigation (mobil, jos — portal în body) ===== */
/* IMPORTANT: ascuns pe desktop */
.mobileBar {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 1100; /* modal overlay are 1200 */
  display: none; /* hidden pe desktop */
  background: var(--surface);
  border-top: 1px solid var(--color-border);
  padding: 6px 8px calc(6px + env(safe-area-inset-bottom));
  box-shadow: 0 -4px 18px rgba(0,0,0,.06);

  /* adaptiv: 4 sau 5 item-uri fără să schimbi CSS */
  display: none;
  grid-template-columns: repeat(auto-fit, minmax(0, 1fr));
  gap: 4px;
}

.mobileItem {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
  justify-content: center;
  text-decoration: none;
  border: 0;
  background: transparent;
  padding: 2px 2px;
  color: var(--color-text);
  font-size: 11px;
  font-weight: 600;
  border-radius: 10px;
}
.mobileItem:active { background: color-mix(in oklab, var(--color-primary) 10%, transparent); }
.mobileItem span { line-height: 1; }

.badgeMini {
  position: absolute;
  top: 2px;
  right: 18%;
  background: var(--color-primary);
  color: #fff;
  font-size: 10px;
  font-weight: 800;
  min-width: 16px;
  height: 16px;
  border-radius: 8px;
  display: grid;
  place-items: center;
  line-height: 1;
  padding: 0 4px;
}

/* ===== Mobile layout rules (păstrăm desktop identic) ===== */
@media (max-width: 768px) {
  .container { display: none; }

  /* nav drawer — dacă vrei, poți activa; momentan ascuns complet pe mobil */
  .burger { display: block; }
  .nav {
    position: fixed;
    top: 64px;
    left: 0;
    right: 0;
    background: var(--color-bg);
    border-bottom: 1px solid var(--color-border);
    display: grid;
    gap: .6rem;
    padding: 1rem;
    transform: translateY(-8px);
    opacity: 0;
    pointer-events: none;
    transition: transform .18s ease, opacity .18s ease;
  }
  .nav--open { transform: translateY(0); opacity: 1; pointer-events: auto; }
  .nav .search { display: none; } /* în nav ascundem; folosim .mobileSearch */
  .mobileSearch { display: block; }
  .actionsRight { gap: 6px; }
  .sellBtn { display: none; }

  /* bottom bar vizibil DOAR pe mobil */
  .mobileBar { display: grid; }

  /* spațiu sub conținut ca să nu fie acoperit de bara de jos */
  :root { --mobile-bottom-bar-h: calc(56px + env(safe-area-inset-bottom)); }
  body { padding-bottom: var(--mobile-bottom-bar-h); }

  /* dacă vrei să ascunzi complet nav & overlay pe mobil */
  .nav, .nav--open, .navBackdrop { display: none !important; }
}


/* ---- Compact & flexibil pentru mobil ---- */
/* Facem .search să accepte variabile pentru lățime și să se micșoreze corect */
.search {
  /* în loc de width fix, folosim clamp cu variabile (au fallback) */
  width: clamp(var(--search-min, 14rem), var(--search-ideal, 45vw), var(--search-max, 20rem));
}

/* Variantă compactă (folosită doar pe mobil) */
.searchSm {
  --search-min: 9rem;     /* poți ajusta */
  --search-ideal: 38vw;   /* poți ajusta */
  --search-max: 16rem;    /* poți ajusta */

  padding: 2px 4px;
}

/* Micșorăm elementele interne în varianta compactă */
.searchSm .input { font-size: 0.85rem; padding: 6px 6px; min-width: 0; }
.searchSm .cameraBtn { width: 32px; height: 32px; padding: 4px; }
.searchSm .searchIcon { padding: 6px; }

/* Asigurăm contracția în flex-row (altfel poate „vărsa” conținutul) */
@media (max-width: 768px) {
  .mobileSearchRow {
    display: flex;
    align-items: center;
    gap: 6px;
    justify-content: space-between;
  }

  .mobileSearchLeft,
  .mobileSearchRight {
    display: flex;
    align-items: center;
    gap: 8px;
    flex: 0 0 auto;
  }

  /* cheia pentru încadrere corectă */
  .mobileSearch .search {
    flex: 1 1 0;
    min-width: 0;     /* permite micșorarea sub lățimea conținutului */
    width: auto;      /* ignorăm width-ul de bază pe mobil */
    max-width: none;
  }

  .mobileSearch .input { min-width: 0; }
}

@media (max-width: 620px) {
  .header {
    /* mai multă transparență ca să se vadă fundalul din hero */
    background: color-mix(in oklab, var(--color-bg) 68%, transparent);
    border-bottom-color: transparent; /* fără linie dură peste imagine */
    backdrop-filter: saturate(120%) blur(10px);
  }
}
